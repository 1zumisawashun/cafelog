<template>
  <!-- „Éö„Éº„Ç∏Êï∞„Åå1„Çà„ÇäÂ§ß„Åç„ÅÑ„ÄÅ2„Éö„Éº„Ç∏‰ª•‰∏ä„ÅÆÊôÇ„ÅÆ„Åø„Éö„Éº„Ç∏„Éç„Éº„Ç∑„Éß„É≥„ÇíË°®Á§∫ -->
  <!-- Êàª„Çã„Éú„Çø„É≥„Å™„ÅÆ„ÅßÔºëÂÄã„Å•„Å§Êàª„ÇãÊìç‰Ωú„ÅåÂøÖË¶Å„Å´„Å™„Çã -->
  <div v-if="length > 1" class="list-item list-item-nav">
    <el-button
      class="btn btn-prev"
      size="small"
      @click="$router.push(`?${query}=${now - 1 || 1}`)"
    >
      <!-- ‰æãÔºö„Äå?number=3„Äç„Åå„ÇØ„Ç®„É™„Å´ÂÖ•„Å£„Å¶„É™„É≥„ÇØ„ÅåÈ£õ„Å∂ -->
      Êàª„Çã
    </el-button>
    <ul class="list">
      <!-- 1„Éö„Éº„Ç∏ÁõÆ„ÅØ„Å©„Çì„Å™ÊôÇ„Åß„ÇÇÂõ∫ÂÆöË°®Á§∫„ÅÆ„Åü„ÇÅif‰∏çË¶Å -->
      <!-- „ÇØ„É©„Çπ„Éê„Ç§„É≥„Éá„Ç£„É≥„Ç∞„ÄÅ{ classÂêç: Âºè }„Åßtrue„ÅÆÊôÇ„Å´„ÇØ„É©„Çπ„Åå„Å§„Åè -->
      <li
        :class="{ now: now === 1 }"
        class="item item-link"
        @click="$router.push(`?${query}=1`)"
      >
        <!-- // 1„Éö„Éº„Ç∏„ÇíÊäº„Åô„Å®url„Åå~/1„Å´„Å™„Çã -->
        <span class="text">
          1
        </span>
      </li>
      <!-- üåü„Åì„Åì„Åã„ÇâÂàÜÂ≤ê„ÄÅÊúÄÂ§ß„Éö„Éº„Ç∏Êï∞„Åå2„Çà„ÇäÂ§ß„Åç„ÅÑ3„Äú -->
      <template v-if="length > 2">
        <!-- üçÄ3‰ª•‰∏ä5‰ª•‰∏ã(=ÊúÄÂ§ß„Éö„Éº„Ç∏Êï∞3,4,5„ÅÆÊôÇ)
            5„Éö„Éº„Ç∏„Åæ„Åß„ÅÆÂ†¥Âêà„ÅØ„ÄÅÊúÄÂ§ß„Éö„Éº„Ç∏Êï∞„Å´Âøú„Åò„Å¶Ë©≤ÂΩì„Éö„Éº„Ç∏Êï∞„ÇíË°®Á§∫ -->
        <template v-if="length <= 5">
          <li
            :class="{ now: now === 2 }"
            class="item item-link"
            @click="$router.push(`?${query}=2`)"
          >
            <span class="text">
              2
            </span>
          </li>
          <!-- üí≠ÊúÄÂ§ß„Éö„Éº„Ç∏Êï∞„Åå3, 4, 5„Åã„Å§3„Çà„ÇäÂ§ß„Åç„ÅÑ4, 5„ÅÆÊôÇ -->
          <template v-if="length > 3">
            <li
              :class="{ now: now === 3 }"
              class="item item-link"
              @click="$router.push(`?${query}=3`)"
            >
              <span class="text">
                3
              </span>
            </li>
            <!-- üç∞ÊúÄÂ§ß„Éö„Éº„Ç∏Êï∞„Åå3, 4, 5„Åã„Å§3„Çà„ÇäÂ§ß„Åç„ÅÑ4, 5„Åã„Å§4„Çà„ÇäÂ§ß„Åç„ÅÑ5„ÅÆÊôÇ -->
            <template v-if="length > 4">
              <li
                :class="{ now: now === 4 }"
                class="item item-link"
                @click="$router.push(`?${query}=4`)"
              >
                <span class="text">
                  4
                </span>
              </li>
            </template>
          </template>
        </template>
        <!-- üçÄ„Åß„Å™„Åë„Çå„Å∞(=ÊúÄÂ§ß„Éö„Éº„Ç∏„Åå5„Çà„ÇäÂ§ß„Åç„ÅÑ6„Äú) -->
        <template v-else>
          <!-- üê•ÊúÄÂ§ß„Éö„Éº„Ç∏6„Äú„Åã„Å§ÁèæÂú®„ÅÑ„Çã„Éö„Éº„Ç∏„Åå4„Çà„ÇäÂ∞ë„Å™„ÅÑ(=1, 2, 3„ÅÆÊôÇ) -->
          <template v-if="now < 4">
            <li
              :class="{ now: now === 2 }"
              class="item item-link"
              @click="$router.push(`?${query}=2`)"
            >
              <span class="text">
                2
              </span>
            </li>
            <li
              :class="{ now: now === 3 }"
              class="item item-link"
              @click="$router.push(`?${query}=3`)"
            >
              <span class="text">
                3
              </span>
            </li>
            <!-- üç≠ÁèæÂú®„ÅÑ„Çã„Éö„Éº„Ç∏„Åå4„Çà„ÇäÂ∞ë„Å™„ÅÑ„Åã„Å§„ÄÅ3„Éö„Éº„Ç∏ÁõÆ„Å´„ÅÑ„ÇãÊôÇ -->
            <li
              v-if="now === 3"
              class="item item-link"
              @click="$router.push(`?${query}=4`)"
            >
              <span class="text">
                4
              </span>
            </li>
            <li class="item item-dots">
              <!-- „Åì„ÅÆ„Éâ„ÉÉ„Éà„ÅØ„Äå„Éª„Éª„Éª„Äç„ÅÆË¶ÅÁ¥†„Å´„Å™„Çã -->
              <div class="dot" />
              <div class="dot" />
              <div class="dot" />
            </li>
          </template>
          <!-- üê•ÊúÄÂ§ß„Éö„Éº„Ç∏6„Äú„Åã„Å§ÁèæÂú®„ÅÑ„Çã„Éö„Éº„Ç∏„Åå1, 2, 3„Åß„Å™„Åè4„Åß„Äú
          ÁèæÂú®„ÅÑ„Çã„Éö„Éº„Ç∏„Å´2„ÇíÂá∫„Åó„Å¶„ÇÇÊúÄÂ§ß„Éö„Éº„Ç∏Êï∞„Å®Âêå„Åò„ÅãÂ∞ë„Å™„Åë„Çå„Å∞
          (4„Éö„Éº„Ç∏ÁõÆ„Å´„ÅÑ„Çã„Å™„Çâ4 +
          2„ÄÅÊúÄÂ§ß„Éö„Éº„Ç∏7„ÅÆÊñπ„ÅåÂ§ß„Åç„ÅÑ„Åü„ÇÅfalse) (6„Éö„Éº„Ç∏ÁõÆ„Å´„ÅÑ„Çã„Å™„Çâ6 +
          2„ÄÅÊúÄÂ§ß„Éö„Éº„Ç∏7„Çà„ÇäÂ§ß„Åç„ÅÑ„Åü„ÇÅtrue) -->
          <template v-else-if="length <= now + 2">
            <li class="item item-dots">
              <div class="dot" />
              <div class="dot" />
              <div class="dot" />
            </li>
            <!-- üå∑ÊúÄÂ§ß„Éö„Éº„Ç∏Êï∞„Åã„Çâ2„ÇíÂºï„ÅÑ„ÅüÊï∞Â≠ó„ÅåÁèæÂú®„ÅÑ„Çã„Éö„Éº„Ç∏„Å†„Å£„Åü„Çâ
            ÊúÄÂ§ß„Éö„Éº„Ç∏Êï∞„Åã„Çâ3„ÇíÂºï„ÅÑ„Åü„Éö„Éº„Ç∏Êï∞„ÇíË°®Á§∫„Åï„Åõ„Çã
            (5„Éö„Éº„Ç∏ÁõÆ„Å´„ÅÑ„Çã„Å™„Çâ7-2 =5„Åßtrue„ÄÅ7-3
            =4„ÅåË°®Á§∫„Åï„Çå„Çã) -->
            <li
              v-if="now === length - 2"
              class="item item-link"
              @click="$router.push(`?${query}=${length - 3}`)"
            >
              <span class="text">
                {{ length - 3 }}
              </span>
            </li>
            <li
              :class="{ now: now === length - 2 }"
              class="item item-link"
              @click="$router.push(`?${query}=${length - 2}`)"
            >
              <span class="text">
                {{ length - 2 }}
              </span>
            </li>
            <li
              :class="{ now: now === length - 1 }"
              class="item item-link"
              @click="$router.push(`?${query}=${length - 1}`)"
            >
              <span class="text">
                {{ length - 1 }}
              </span>
            </li>
          </template>
          <!-- üê•ÊúÄÂ§ß„Éö„Éº„Ç∏6„Äú„Åã„Å§„ÄÅ‰ªä„Åæ„Åß„ÅÆ„Éë„Çø„Éº„É≥„Å´Ë©≤ÂΩì„Åó„Å™„ÅÑ
          (‰∏ä„ÅÆüê•„ÅÆfalse„ÄÅÁèæÂú®4„Éö„Éº„Ç∏„ÅÆÂ†¥Âêà) -->
          <template v-else>
            <li class="item item-dots">
              <div class="dot" />
              <div class="dot" />
              <div class="dot" />
            </li>
            <li
              class="item item-link"
              @click="$router.push(`?${query}=${now - 1}`)"
            >
              <span class="text">
                {{ now - 1 }}
              </span>
            </li>
            <li class="item item-link now">
              <span class="text">
                {{ now }}
              </span>
            </li>
            <li
              class="item item-link"
              @click="$router.push(`?${query}=${now + 1}`)"
            >
              <span class="text">
                {{ now + 1 }}
              </span>
            </li>
            <li class="item item-dots">
              <div class="dot" />
              <div class="dot" />
              <div class="dot" />
            </li>
          </template>
        </template>
      </template>
      <li
        :class="{ now: now === length }"
        class="item item-link"
        @click="$router.push(`?${query}=${length}`)"
      >
        <span class="text">
          {{ length }}
        </span>
      </li>
    </ul>
    <el-button
      class="btn btn-next"
      size="small"
      @click="$router.push(`?${query}=${now + 1 <= length ? now + 1 : length}`)"
    >
      ÈÄ≤„ÇÄ
    </el-button>
  </div>
</template>

<script>
export default {
  props: {
    query: {
      type: String,
      required: true
    },
    length: {
      type: Number,
      required: true
    },
    now: {
      type: Number,
      required: true
    }
  }
};
</script>

<style>
/* scoped„Çí„Å§„Åë„Çã„Å®Ë¶ÅÁ¥†„ÅåÂäπ„Åã„Å™„Åè„Å™„Çã */
ul {
  list-style: none;
}
.list-item {
  justify-content: center;
  height: 50px;
  margin: 0 auto;
  display: flex;
}
.list {
  height: 50px;
  display: flex;
}
.item-link {
  width: 50px;
  height: 30px;
}
.item-dots {
  display: flex;
  width: 30px;
  justify-content: center;
}
.dot {
  width: 5px;
  height: 5px;
  border-radius: 50%;
  background-color: black;
}
.item {
  text-align: center;
  margin: 10px 0 0 0;
}
</style>
